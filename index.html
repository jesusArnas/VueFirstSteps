<!DOCTYPE html>
<html>

<head>
  <title>Welcome to Vue</title>

  <meta charset="utf-8">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/vue/2.0.3/vue.js">
  </script>
</head>

<body>

  <template id="change-title-template">
    <div>
      <em>Change the title of your shopping list here</em>
      <input :value="title" v-on:input="onInput">
    </div>
  </template>

  <template id="item-template">
    <li :class="{ 'removed': item.checked }">
      <div class="checkbox">
        <label>
          <input type="checkbox" v-model="item.checked"> {{ item.text }}
        </label>
      </div>
    </li>
  </template>

  <template id="items-template">
    <ul>
      <item-component v-for="item in items" :item="item"></item-component>
    </ul>
  </template>

  <div id="app" class="container">
    <h2>{{ title }}</h2>
    <div class="input-group">
      <input v-model="newItem" @keyup.enter="addItem" placeholder="add shopping list item" type="text"
        class="form-control">
      <span class="input-group-btn">
        <button @click="addItem" class="btn btn-default" type="button">Add!</button>
      </span>
    </div>
    <items-component :items="items"></items-component>
    <div class="footer">
      <hr />
      <change-title-component :title="title" v-model="title"></change-title-component>
    </div>
  </div>

  <script>
    var data = {
      items: [{ text: 'Bananas', checked: true }, { text: 'Apples', checked: false }],
      title: 'My Shopping List',
      newItem: ''
    };

    Vue.component('change-title-component', {
      template: '#change-title-template',
      props: ['title'],
      methods: {
        onInput: function (event) {
          this.$emit('input', event.target.value)
        }
      }
    });

    Vue.component('item-component', {
      template: '#item-template',
      props: ['item']
    });

    Vue.component('items-component', {
      template: '#items-template',
      props: ['items']
    });

    new Vue({
      el: '#app',
      data: data,
      methods: {
        addItem: function () {
          var text;

          text = this.newItem.trim();
          if (text) {
            this.items.push({
              text: text,
              checked: false
            });
            this.newItem = '';
          }
        }
      }
    });
  </script>
</body>

</html>